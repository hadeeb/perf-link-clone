function e(e,n){let o={},a=`__xpo${Math.random().toString().substring(2)}__`;"function"==typeof e&&(e=`(${Function.prototype.toString.call(e)})(${a})`),e=r(e,a,o)+`\n(${Function.prototype.toString.call(t)})(self,${a},{})`;let s,l=URL.createObjectURL(new Blob([e])),c=new Worker(l,n),i=c.terminate,u={},p=0;for(s in c.kill=(e=>{c.postMessage({type:"KILL",signal:e}),setTimeout(c.terminate)}),c.terminate=(()=>{URL.revokeObjectURL(l),i.call(c)}),c.call=((e,t)=>new Promise((r,n)=>{let o=`rpc${++p}`;u[o]=[r,n],c.postMessage({type:"RPC",id:o,method:e,params:t})})),c.rpcMethods={},t(c,c.rpcMethods,u),c.expose=(e=>{c[e]=function(){return c.call(e,[].slice.call(arguments))}}),o)s in c||c.expose(s);return c}function t(e,t,r){e.addEventListener("message",({data:n})=>{let o=n.id;if("RPC"===n.type&&null!=o)if(n.method){let r=t[n.method];null==r?e.postMessage({type:"RPC",id:o,error:"NO_SUCH_METHOD"}):Promise.resolve().then(()=>r.apply(null,n.params)).then(t=>{e.postMessage({type:"RPC",id:o,result:t})}).catch(t=>{e.postMessage({type:"RPC",id:o,error:""+t})})}else{let e=r[o];if(null==e)throw Error(`Unknown callback ${o}`);delete r[o],n.error?e[1](Error(n.error)):e[0](n.result)}})}function r(e,t,r){return e=(e=e.replace(/^(\s*)export\s+default\s+/m,(e,n)=>(r.default=!0,`${n}${t}.default=`))).replace(/^(\s*)export\s+((?:async\s*)?function(?:\s*\*)?|const|let|var)(\s+)([a-zA-Z$_][a-zA-Z0-9$_]*)/gm,(e,n,o,a,s)=>(r[s]=!0,`${n}${t}.${s}=${o}${a}${s}`)),`var ${t}={};\n${e}\n${t};`}const n=100,o=e=>e.sort()[Math.ceil(e.length/2)],a=e=>Math.floor(1e3*e);async function s(e){const t=[];try{let r=n;for(;r>0;){let n=eval(`()=> {${e.before};let start = performance.now();${e.code};let end = performance.now();return end - start;}`)();t.push(n),r--}return{error:!1,median:o(t)}}catch(e){return{error:!0,median:0}}}async function l(t){const r=`function run() {try{${t.before};let start = performance.now();${t.code};let end = performance.now();return end - start;}catch(e){return -1}}`;try{eval(r)}catch(e){return{error:!0,median:0}}const a=e(`export ${r}`),s=[];let l=n,c=!1;for(;l>0;){let e=await a.run();if(e<0){c=!0;break}s.push(e),l--}return a.terminate(),c?{error:!0,median:0}:{error:!1,median:o(s)}}function c(e,t){location.hash=`#/${btoa(e)}/${btoa(JSON.stringify(t))}`}function i(e,t){var r;return function(){var n=this,o=arguments;clearTimeout(r),r=setTimeout(function(){r=null,e.apply(n,o)},t)}}export{a,c as b,i as c,l as d,s as e};
//# sourceMappingURL=chunk-797fe19b.js.map
